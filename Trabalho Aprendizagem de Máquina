  #"""Trabalho de Aprendizagem de Maquina.ipynb

#Automatically generated by Colaboratory.

#Original file is located at
#    https://colab.research.google.com/drive/1F-E9-Kbl4tXgOoEku-vLPSw8rVY1rMt0
#"""

import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Carregue os dados
data = pd.read_csv("/content/dados4 - dados4.csv")

# 1) Ajuste as idades inválidas ou vazias para a moda da amostra
mode_age = data['age'].mode()[0]
data['age'].fillna(mode_age, inplace=True)

# Grave as idades ajustadas em um arquivo Resposta01.txt
data.to_csv("Resposta01.txt", index=False)

# 2) Calcule o somatório de homens e mulheres
total_males = data[data['sex'] == 'male']['sex'].count()
total_females = data[data['sex'] == 'female']['sex'].count()
print(f"Total de homens: {total_males}")
print(f"Total de mulheres: {total_females}")

# 3) Crie um gráfico de pizza para a porcentagem de sobreviventes e não sobreviventes
survived_counts = data['survived'].value_counts()
labels = ['Não sobreviventes', 'sobreviventes']
plt.figure(figsize=(8, 8))
plt.pie(survived_counts, labels=labels, autopct='%1.1f%%', startangle=140)
plt.title('Porcentagem de Sobreviventes e Não Sobreviventes')
plt.show()

# 4) Crie um gráfico de dispersão de Idade versus Tarifa
plt.figure(figsize=(15, 50))
sns.scatterplot(data=data, x='age', y='fare', hue='survived')
plt.title('Gráfico de Dispersão de Idade vs. Tarifa')
plt.xlabel('Idade')
plt.ylabel('Tarifa')
plt.show()
